var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,l=(t,e)=>{for(var n in e||(e={}))i.call(e,n)&&a(t,n,e[n]);if(r)for(var n of r(e))o.call(e,n)&&a(t,n,e[n]);return t},s=(t,r)=>e(t,n(r));import{W as u,X as c,Y as h,h as f,o as p,a as d,b as v,t as m,q as g,F as y,z as w,Z as x,i as _,J as b,R as C,K as k,L as M,p as z,I as A,C as L,r as T,a1 as E,_ as H}from"./app.31827bcb.js";import{_ as N}from"./Navbar.d17539f7.js";import{_ as S}from"./Footer.fd5f6cb5.js";import{a as B}from"./CollectionModal.a4b23514.js";const V={props:["item","tag"],setup({item:t,tag:e}){const n=h({type:t.type,tag:e,folder:null,post:null});"post"===n.type?n.post=t.data:"folder"===n.type&&(n.folder=t);const r=f(n);return l({},r)}},D=x();u("data-v-462c4150");const P={class:"flex-grow p-4 flex items-start justify-between space-x-2"},F=v("div",{class:"flex-shrink-0"},[v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"}),v("path",{d:"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"})])],-1),$={class:"text-md font-bold"},O=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13z"})],-1),j={class:"\n          tags\n          px-4\n          h-8\n          flex flex-nowrap\n          items-center\n          bg-gray-100\n          space-x-2\n          overflow-x-auto\n          rounded-b\n        "},q={key:1,class:"folder-container bg-gray-50 rounded flex flex-col overflow-y-auto"},X=v("div",{class:"flex-shrink-0"},[v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"})])],-1),R={class:"font-bold text-md rounded-t"},I={class:"folder-body px-4 py-2 space-y-1"},Y=v("div",{class:"flex-shrink-0 p-0.5"},[v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"}),v("path",{d:"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"})])],-1),Z={class:"text-xs"},G=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13z"})],-1),U=v("div",{class:"flex-shrink-0 p-0.5"},[v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"})])],-1),W={class:"text-xs"};c();const K=D(((t,e,n,r,i,o)=>(p(),d("div",null,["post"===t.type?(p(),d("div",{key:0,class:["post-container bg-gray-50 rounded flex flex-col",{"border border-blue-300":t.post.tags.includes(n.tag)}]},[v("div",P,[v("a",{class:"\n            w-full\n            p-2\n            flex\n            items-start\n            space-x-2\n            font-bold\n            text-gray-600\n            hover:text-gray-900\n            hover:bg-gray-200\n            rounded\n          ",href:t.$withBase(t.post.pathRelative),target:"_blank"},[F,v("h3",$,m(t.post.title),1)],8,["href"]),t.post.collection?(p(),d("button",{key:0,class:"\n            p-2\n            select-none\n            flex-shrink-0\n            text-gray-600\n            hover:text-gray-900\n            hover:bg-gray-200\n            rounded\n          ",title:"查看系列文章",onClick:e[1]||(e[1]=e=>t.$emit("setCollection",t.post.collection))},[O])):g("",!0)]),v("div",j,[(p(!0),d(y,null,w(t.post.tags,(t=>(p(),d("a",{key:t,class:"\n            flex-shrink-0\n            text-gray-400\n            font-bold\n            text-xs\n            hover:text-gray-800\n          ",href:`#${t}`},"#"+m(t),9,["href"])))),128))])],2)):g("",!0),"folder"===t.type&&t.folder.children.length>0?(p(),d("div",q,[v("button",{class:"\n          folder-head\n          px-4\n          py-3\n          select-none\n          flex\n          items-start\n          text-white\n          bg-blue-400\n          hover:bg-blue-500\n          space-x-2\n          rounded-t\n        ",onClick:e[2]||(e[2]=e=>t.$emit("setFolder",t.folder))},[X,v("h3",R,m(t.folder.name),1)]),v("div",I,[(p(!0),d(y,null,w(t.folder.children,(e=>(p(),d(y,{key:e.name},["post"===e.type?(p(),d("div",{key:0,class:["flex items-center justify-between space-x-2",{"border border-blue-300 rounded":e.data.tags.includes(n.tag)}]},[v("a",{class:"\n                p-2\n                flex-grow flex\n                items-start\n                space-x-1\n                text-gray-600\n                hover:text-gray-900\n                hover:bg-gray-200\n                rounded\n              ",href:t.$withBase(e.data.pathRelative),target:"_blank"},[Y,v("span",Z,m(e.data.title),1)],8,["href"]),e.data.collection?(p(),d("button",{key:0,class:"\n                flex-shrink-0\n                p-2\n                select-none\n                text-gray-500\n                hover:text-gray-900\n                hover:bg-gray-200\n                rounded\n              ",title:"查看系列文章",onClick:n=>t.$emit("setCollection",e.data.collection)},[G],8,["onClick"])):g("",!0)],2)):g("",!0),"folder"===e.type?(p(),d("button",{key:1,class:"\n              w-full\n              p-2\n              select-none\n              flex\n              items-start\n              space-x-1\n              text-blue-500\n              hover:text-white\n              hover:bg-blue-400\n              rounded\n            ",onClick:n=>t.$emit("setFolder",e)},[U,v("span",W,m(e.name),1)],8,["onClick"])):g("",!0)],64)))),128))])])):g("",!0)]))));V.render=K,V.__scopeId="data-v-462c4150";var Q={value:()=>{}};function J(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new tt(r)}function tt(t){this._=t}function et(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function nt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function rt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Q,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}tt.prototype=J.prototype={constructor:tt,on:function(t,e){var n,r=this._,i=et(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=rt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=rt(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=nt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var it="http://www.w3.org/1999/xhtml",ot={svg:"http://www.w3.org/2000/svg",xhtml:it,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function at(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ot.hasOwnProperty(e)?{space:ot[e],local:t}:t}function lt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===it&&e.documentElement.namespaceURI===it?e.createElement(t):e.createElementNS(n,t)}}function st(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ut(t){var e=at(t);return(e.local?st:lt)(e)}function ct(){}function ht(t){return null==t?ct:function(){return this.querySelector(t)}}function ft(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function pt(){return[]}function dt(t){return null==t?pt:function(){return this.querySelectorAll(t)}}function vt(t){return function(){return this.matches(t)}}function mt(t){return function(e){return e.matches(t)}}var gt=Array.prototype.find;function yt(){return this.firstElementChild}var wt=Array.prototype.filter;function xt(){return this.children}function _t(t){return new Array(t.length)}function bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ct(t){return function(){return t}}function kt(t,e,n,r,i,o){for(var a,l=0,s=e.length,u=o.length;l<u;++l)(a=e[l])?(a.__data__=o[l],r[l]=a):n[l]=new bt(t,o[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Mt(t,e,n,r,i,o,a){var l,s,u,c=new Map,h=e.length,f=o.length,p=new Array(h);for(l=0;l<h;++l)(s=e[l])&&(p[l]=u=a.call(s,s.__data__,l,e)+"",c.has(u)?i[l]=s:c.set(u,s));for(l=0;l<f;++l)u=a.call(t,o[l],l,o)+"",(s=c.get(u))?(r[l]=s,s.__data__=o[l],c.delete(u)):n[l]=new bt(t,o[l]);for(l=0;l<h;++l)(s=e[l])&&c.get(p[l])===s&&(i[l]=s)}function zt(t){return t.__data__}function At(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Lt(t){return function(){this.removeAttribute(t)}}function Tt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Et(t,e){return function(){this.setAttribute(t,e)}}function Ht(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function St(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vt(t){return function(){this.style.removeProperty(t)}}function Dt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Pt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ft(t,e){return t.style.getPropertyValue(e)||Bt(t).getComputedStyle(t,null).getPropertyValue(e)}function $t(t){return function(){delete this[t]}}function Ot(t,e){return function(){this[t]=e}}function jt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function qt(t){return t.trim().split(/^|\s+/)}function Xt(t){return t.classList||new Rt(t)}function Rt(t){this._node=t,this._names=qt(t.getAttribute("class")||"")}function It(t,e){for(var n=Xt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Yt(t,e){for(var n=Xt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Zt(t){return function(){It(this,t)}}function Gt(t){return function(){Yt(this,t)}}function Ut(t,e){return function(){(e.apply(this,arguments)?It:Yt)(this,t)}}function Wt(){this.textContent=""}function Kt(t){return function(){this.textContent=t}}function Qt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Jt(){this.innerHTML=""}function te(t){return function(){this.innerHTML=t}}function ee(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ne(){this.nextSibling&&this.parentNode.appendChild(this)}function re(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ie(){return null}function oe(){var t=this.parentNode;t&&t.removeChild(this)}function ae(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function le(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function se(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ue(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function ce(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,l=i.length;a<l;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function he(t,e,n){var r=Bt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function fe(t,e){return function(){return he(this,t,e)}}function pe(t,e){return function(){return he(this,t,e.apply(this,arguments))}}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Rt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var de=[null];function ve(t,e){this._groups=t,this._parents=e}function me(){return new ve([[document.documentElement]],de)}function ge(t){return"string"==typeof t?new ve([[document.querySelector(t)]],[document.documentElement]):new ve([[t]],de)}function ye(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function we(t){t.preventDefault(),t.stopImmediatePropagation()}function xe(t){var e=t.document.documentElement,n=ge(t).on("dragstart.drag",we,!0);"onselectstart"in e?n.on("selectstart.drag",we,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _e(t,e){var n=t.document.documentElement,r=ge(t).on("dragstart.drag",null);e&&(r.on("click.drag",we,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function be(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ce(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ke(){}ve.prototype=me.prototype={constructor:ve,select:function(t){"function"!=typeof t&&(t=ht(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,l=e[i],s=l.length,u=r[i]=new Array(s),c=0;c<s;++c)(o=l[c])&&(a=t.call(o,o.__data__,c,l))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new ve(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:ft(e)}}(t):dt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,l=e[o],s=l.length,u=0;u<s;++u)(a=l[u])&&(r.push(t.call(a,a.__data__,u,l)),i.push(a));return new ve(r,i)},selectChild:function(t){return this.select(null==t?yt:function(t){return function(){return gt.call(this.children,t)}}("function"==typeof t?t:mt(t)))},selectChildren:function(t){return this.selectAll(null==t?xt:function(t){return function(){return wt.call(this.children,t)}}("function"==typeof t?t:mt(t)))},filter:function(t){"function"!=typeof t&&(t=vt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],l=a.length,s=r[i]=[],u=0;u<l;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&s.push(o);return new ve(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,zt);var n=e?Mt:kt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Ct(t));for(var o=i.length,a=new Array(o),l=new Array(o),s=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,p=ft(t.call(c,c&&c.__data__,u,r)),d=p.length,v=l[u]=new Array(d),m=a[u]=new Array(d),g=s[u]=new Array(f);n(c,h,v,m,g,p,e);for(var y,w,x=0,_=0;x<d;++x)if(y=v[x]){for(x>=_&&(_=x+1);!(w=m[_])&&++_<d;);y._next=w||null}}return(a=new ve(a,r))._enter=l,a._exit=s,a},enter:function(){return new ve(this._enter||this._groups.map(_t),this._parents)},exit:function(){return new ve(this._exit||this._groups.map(_t),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof ve))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s,u=e[l],c=n[l],h=u.length,f=a[l]=new Array(h),p=0;p<h;++p)(s=u[p]||c[p])&&(f[p]=s);for(;l<r;++l)a[l]=e[l];return new ve(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=At);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,l=n[o],s=l.length,u=i[o]=new Array(s),c=0;c<s;++c)(a=l[c])&&(u[c]=a);u.sort(e)}return new ve(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,l=o.length;a<l;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=at(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Tt:Lt:"function"==typeof e?n.local?St:Nt:n.local?Ht:Et)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Vt:"function"==typeof e?Pt:Dt)(t,e,null==n?"":n)):Ft(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?$t:"function"==typeof e?jt:Ot)(t,e)):this.node()[t]},classed:function(t,e){var n=qt(t+"");if(arguments.length<2){for(var r=Xt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ut:e?Zt:Gt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Wt:("function"==typeof t?Qt:Kt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Jt:("function"==typeof t?ee:te)(t)):this.node().innerHTML},raise:function(){return this.each(ne)},lower:function(){return this.each(re)},append:function(t){var e="function"==typeof t?t:ut(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ut(t),r=null==e?ie:"function"==typeof e?e:ht(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(oe)},clone:function(t){return this.select(t?le:ae)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=se(t+""),a=o.length;if(!(arguments.length<2)){for(l=e?ce:ue,r=0;r<a;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?pe:fe)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Me=1/.7,ze="\\s*([+-]?\\d+)\\s*",Ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Te=/^#([0-9a-f]{3,8})$/,Ee=new RegExp("^rgb\\("+[ze,ze,ze]+"\\)$"),He=new RegExp("^rgb\\("+[Le,Le,Le]+"\\)$"),Ne=new RegExp("^rgba\\("+[ze,ze,ze,Ae]+"\\)$"),Se=new RegExp("^rgba\\("+[Le,Le,Le,Ae]+"\\)$"),Be=new RegExp("^hsl\\("+[Ae,Le,Le]+"\\)$"),Ve=new RegExp("^hsla\\("+[Ae,Le,Le,Ae]+"\\)$"),De={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pe(){return this.rgb().formatHex()}function Fe(){return this.rgb().formatRgb()}function $e(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Te.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Oe(e):3===n?new Re(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?je(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?je(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ee.exec(t))?new Re(e[1],e[2],e[3],1):(e=He.exec(t))?new Re(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ne.exec(t))?je(e[1],e[2],e[3],e[4]):(e=Se.exec(t))?je(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Be.exec(t))?Ge(e[1],e[2]/100,e[3]/100,1):(e=Ve.exec(t))?Ge(e[1],e[2]/100,e[3]/100,e[4]):De.hasOwnProperty(t)?Oe(De[t]):"transparent"===t?new Re(NaN,NaN,NaN,0):null}function Oe(t){return new Re(t>>16&255,t>>8&255,255&t,1)}function je(t,e,n,r){return r<=0&&(t=e=n=NaN),new Re(t,e,n,r)}function qe(t){return t instanceof ke||(t=$e(t)),t?new Re((t=t.rgb()).r,t.g,t.b,t.opacity):new Re}function Xe(t,e,n,r){return 1===arguments.length?qe(t):new Re(t,e,n,null==r?1:r)}function Re(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ie(){return"#"+Ze(this.r)+Ze(this.g)+Ze(this.b)}function Ye(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ze(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ge(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new We(t,e,n,r)}function Ue(t){if(t instanceof We)return new We(t.h,t.s,t.l,t.opacity);if(t instanceof ke||(t=$e(t)),!t)return new We;if(t instanceof We)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(a=e===o?(n-r)/l+6*(n<r):n===o?(r-e)/l+2:(e-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new We(a,l,s,t.opacity)}function We(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ke(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}be(ke,$e,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Pe,formatHex:Pe,formatHsl:function(){return Ue(this).formatHsl()},formatRgb:Fe,toString:Fe}),be(Re,Xe,Ce(ke,{brighter:function(t){return t=null==t?Me:Math.pow(Me,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Re(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ie,formatHex:Ie,formatRgb:Ye,toString:Ye})),be(We,(function(t,e,n,r){return 1===arguments.length?Ue(t):new We(t,e,n,null==r?1:r)}),Ce(ke,{brighter:function(t){return t=null==t?Me:Math.pow(Me,t),new We(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new We(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Re(Ke(t>=240?t-240:t+120,i,r),Ke(t,i,r),Ke(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Qe=t=>()=>t;function Je(t){return 1==(t=+t)?tn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Qe(isNaN(e)?n:e)}}function tn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Qe(isNaN(t)?e:t)}var en=function t(e){var n=Je(e);function r(t,e){var r=n((t=Xe(t)).r,(e=Xe(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=tn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function nn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var rn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,on=new RegExp(rn.source,"g");function an(t,e){var n,r,i,o=rn.lastIndex=on.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=rn.exec(t))&&(r=on.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:nn(n,r)})),o=on.lastIndex;return o<e.length&&(i=e.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}var ln,sn=180/Math.PI,un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cn(t,e,n,r,i,o){var a,l,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*sn,skewX:Math.atan(s)*sn,scaleX:a,scaleY:l}}function hn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var l=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,l){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);l.push({i:s-4,x:nn(t,i)},{i:s-2,x:nn(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,l,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:nn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,l,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:nn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,l,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var l=o.push(i(o)+"scale(",null,",",null,")");a.push({i:l-4,x:nn(t,n)},{i:l-2,x:nn(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,l,s),o=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var fn=hn((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?un:cn(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),pn=hn((function(t){return null==t?un:(ln||(ln=document.createElementNS("http://www.w3.org/2000/svg","g")),ln.setAttribute("transform",t),(t=ln.transform.baseVal.consolidate())?cn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):un)}),", ",")",")");function dn(t){return((t=Math.exp(t))+1/t)/2}var vn,mn,gn=function t(e,n,r){function i(t,i){var o,a,l=t[0],s=t[1],u=t[2],c=i[0],h=i[1],f=i[2],p=c-l,d=h-s,v=p*p+d*d;if(v<1e-12)a=Math.log(f/u)/e,o=function(t){return[l+t*p,s+t*d,u*Math.exp(e*t*a)]};else{var m=Math.sqrt(v),g=(f*f-u*u+r*v)/(2*u*n*m),y=(f*f-u*u-r*v)/(2*f*n*m),w=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(y*y+1)-y);a=(x-w)/e,o=function(t){var r,i=t*a,o=dn(w),c=u/(n*m)*(o*(r=e*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[l+c*p,s+c*d,u*o/dn(e*i+w)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),yn=0,wn=0,xn=0,_n=0,bn=0,Cn=0,kn="object"==typeof performance&&performance.now?performance:Date,Mn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zn(){return bn||(Mn(An),bn=kn.now()+Cn)}function An(){bn=0}function Ln(){this._call=this._time=this._next=null}function Tn(t,e,n){var r=new Ln;return r.restart(t,e,n),r}function En(){bn=(_n=kn.now())+Cn,yn=wn=0;try{!function(){zn(),++yn;for(var t,e=vn;e;)(t=bn-e._time)>=0&&e._call.call(null,t),e=e._next;--yn}()}finally{yn=0,function(){var t,e,n=vn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:vn=e);mn=t,Nn(r)}(),bn=0}}function Hn(){var t=kn.now(),e=t-_n;e>1e3&&(Cn-=e,_n=t)}function Nn(t){yn||(wn&&(wn=clearTimeout(wn)),t-bn>24?(t<1/0&&(wn=setTimeout(En,t-kn.now()-Cn)),xn&&(xn=clearInterval(xn))):(xn||(_n=kn.now(),xn=setInterval(Hn,1e3)),yn=1,Mn(En)))}function Sn(t,e,n){var r=new Ln;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Ln.prototype=Tn.prototype={constructor:Ln,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?zn():+n)+(null==e?0:+e),this._next||mn===this||(mn?mn._next=this:vn=this,mn=this),this._call=t,this._time=n,Nn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nn())}};var Bn=J("start","end","cancel","interrupt"),Vn=[];function Dn(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var u,c,h,f;if(1!==n.state)return s();for(u in i)if((f=i[u]).name===n.name){if(3===f.state)return Sn(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[u])}if(Sn((function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function l(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Tn(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Bn,tween:Vn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Pn(t,e){var n=$n(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Fn(t,e){var n=$n(t,e);if(n.state>3)throw new Error("too late; already running");return n}function $n(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function On(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function jn(t,e){var n,r;return function(){var i=Fn(this,t),o=i.tween;if(o!==n)for(var a=0,l=(r=n=o).length;a<l;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function qn(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Fn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=l;break}s===u&&i.push(l)}o.tween=i}}function Xn(t,e,n){var r=t._id;return t.each((function(){var t=Fn(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return $n(t,r).value[e]}}function Rn(t,e){var n;return("number"==typeof e?nn:e instanceof $e?en:(n=$e(e))?(e=n,en):an)(t,e)}function In(t){return function(){this.removeAttribute(t)}}function Yn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Gn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Un(t,e,n){var r,i,o;return function(){var a,l,s=n(this);if(null!=s)return(a=this.getAttribute(t))===(l=s+"")?null:a===r&&l===i?o:(i=l,o=e(r=a,s));this.removeAttribute(t)}}function Wn(t,e,n){var r,i,o;return function(){var a,l,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:a===r&&l===i?o:(i=l,o=e(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Kn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Qn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Jn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Qn(t,i)),n}return i._value=e,i}function tr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Kn(t,i)),n}return i._value=e,i}function er(t,e){return function(){Pn(this,t).delay=+e.apply(this,arguments)}}function nr(t,e){return e=+e,function(){Pn(this,t).delay=e}}function rr(t,e){return function(){Fn(this,t).duration=+e.apply(this,arguments)}}function ir(t,e){return e=+e,function(){Fn(this,t).duration=e}}function or(t,e){if("function"!=typeof e)throw new Error;return function(){Fn(this,t).ease=e}}function ar(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Pn:Fn;return function(){var a=o(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}var lr=me.prototype.constructor;function sr(t){return function(){this.style.removeProperty(t)}}function ur(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function cr(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ur(t,o,n)),r}return o._value=e,o}function hr(t){return function(e){this.textContent=t.call(this,e)}}function fr(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&hr(r)),e}return r._value=t,r}var pr=0;function dr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function vr(){return++pr}var mr=me.prototype;dr.prototype={constructor:dr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ht(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l,s,u=r[a],c=u.length,h=o[a]=new Array(c),f=0;f<c;++f)(l=u[f])&&(s=t.call(l,l.__data__,f,u))&&("__data__"in l&&(s.__data__=l.__data__),h[f]=s,Dn(h[f],e,n,f,h,$n(l,n)));return new dr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=dt(t));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var s,u=r[l],c=u.length,h=0;h<c;++h)if(s=u[h]){for(var f,p=t.call(s,s.__data__,h,u),d=$n(s,n),v=0,m=p.length;v<m;++v)(f=p[v])&&Dn(f,e,n,v,p,d);o.push(p),a.push(s)}return new dr(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=vt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],l=a.length,s=r[i]=[],u=0;u<l;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&s.push(o);return new dr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s,u=e[l],c=n[l],h=u.length,f=a[l]=new Array(h),p=0;p<h;++p)(s=u[p]||c[p])&&(f[p]=s);for(;l<r;++l)a[l]=e[l];return new dr(a,this._parents,this._name,this._id)},selection:function(){return new lr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=vr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,l=r[o],s=l.length,u=0;u<s;++u)if(a=l[u]){var c=$n(a,e);Dn(a,t,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new dr(r,this._parents,t,n)},call:mr.call,nodes:mr.nodes,node:mr.node,size:mr.size,empty:mr.empty,each:mr.each,on:function(t,e){var n=this._id;return arguments.length<2?$n(this.node(),n).on.on(t):this.each(ar(n,t,e))},attr:function(t,e){var n=at(t),r="transform"===n?pn:Rn;return this.attrTween(t,"function"==typeof e?(n.local?Wn:Un)(n,r,Xn(this,"attr."+t,e)):null==e?(n.local?Yn:In)(n):(n.local?Gn:Zn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=at(t);return this.tween(n,(r.local?Jn:tr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?fn:Rn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Ft(this,t),a=(this.style.removeProperty(t),Ft(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,sr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Ft(this,t),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=Ft(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,l))}}(t,r,Xn(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,l="end."+a;return function(){var s=Fn(this,t),u=s.on,c=null==s.value[a]?o||(o=sr(e)):void 0;u===n&&i===c||(r=(n=u).copy()).on(l,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Ft(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,cr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Xn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,fr(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=$n(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?jn:qn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?er:nr)(e,t)):$n(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?rr:ir)(e,t)):$n(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(or(e,t)):$n(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Fn(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var l={value:a},s={value:function(){0==--i&&o()}};n.each((function(){var n=Fn(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:mr[Symbol.iterator]};var gr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function yr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}me.prototype.interrupt=function(t){return this.each((function(){On(this,t)}))},me.prototype.transition=function(t){var e,n;t instanceof dr?(e=t._id,t=t._name):(e=vr(),(n=gr).time=zn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,l=r[o],s=l.length,u=0;u<s;++u)(a=l[u])&&Dn(a,t,e,u,l,n||yr(a,e));return new dr(r,this._parents,t,e)};const wr=Math.PI,xr=2*wr,_r=xr-1e-6;function br(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Cr(){return new br}function kr(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Mr(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Ar)):void 0===e&&(e=zr);for(var n,r,i,o,a,l=new Er(t),s=[l];n=s.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)s.push(r=i[o]=new Er(i[o])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(Tr)}function zr(t){return t.children}function Ar(t){return Array.isArray(t)?t[1]:null}function Lr(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Tr(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Er(t){this.data=t,this.depth=this.height=0,this.parent=null}function Hr(t,e){return t.parent===e.parent?1:2}function Nr(t){var e=t.children;return e?e[0]:t.t}function Sr(t){var e=t.children;return e?e[e.length-1]:t.t}function Br(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Vr(t,e,n){return t.a.parent===e.parent?t.a:n}function Dr(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Pr(){var t=Hr,e=1,n=1,r=null;function i(i){var s=function(t){for(var e,n,r,i,o,a=new Dr(t,0),l=[a];e=l.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)l.push(n=e.children[i]=new Dr(r[i],i)),n.parent=e;return(a.parent=new Dr(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(l);else{var u=i,c=i,h=i;i.eachBefore((function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)}));var f=u===c?1:t(u,c)/2,p=f-u.x,d=e/(c.x+f+p),v=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,l=n,s=o.parent.children[0],u=o.m,c=a.m,h=l.m,f=s.m;l=Sr(l),o=Nr(o),l&&o;)s=Nr(s),(a=Sr(a)).a=e,(i=l.z+h-o.z-u+t(l._,o._))>0&&(Br(Vr(l,e,r),e,i),u+=i,c+=i),h+=l.m,u+=o.m,f+=s.m,c+=a.m;l&&!Sr(a)&&(a.t=l,a.m+=h-c),o&&!Nr(s)&&(s.t=o,s.m+=u-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Fr(t){return function(){return t}}br.prototype=Cr.prototype={constructor:br,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,l=n-t,s=r-e,u=o-t,c=a-e,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*l-s*u)>1e-6&&i){var f=n-o,p=r-a,d=l*l+s*s,v=f*f+p*p,m=Math.sqrt(d),g=Math.sqrt(h),y=i*Math.tan((wr-Math.acos((d+h-v)/(2*m*g)))/2),w=y/g,x=y/m;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*u)+","+(e+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*p)+","+(this._x1=t+x*l)+","+(this._y1=e+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),l=n*Math.sin(r),s=t+a,u=e+l,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+u:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+s+","+u),n&&(h<0&&(h=h%xr+xr),h>_r?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-l)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=wr)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Er.prototype=Mr.prototype={constructor:Er,count:function(){return this.eachAfter(kr)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],l=[],s=-1;o=a.pop();)if(l.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=l.pop();)t.call(e,o,++s,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Mr(this).eachBefore(Lr)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}},Dr.prototype=Object.create(Er.prototype);var $r=Array.prototype.slice;function Or(t){return t[0]}function jr(t){return t[1]}function qr(t){return t.source}function Xr(t){return t.target}function Rr(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Ir(){return function(t){var e=qr,n=Xr,r=Or,i=jr,o=null;function a(){var a,l=$r.call(arguments),s=e.apply(this,l),u=n.apply(this,l);if(o||(o=a=Cr()),t(o,+r.apply(this,(l[0]=s,l)),+i.apply(this,l),+r.apply(this,(l[0]=u,l)),+i.apply(this,l)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Fr(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Fr(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}(Rr)}var Yr=t=>()=>t;function Zr(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Gr(t,e,n){this.k=t,this.x=e,this.y=n}Gr.prototype={constructor:Gr,scale:function(t){return 1===t?this:new Gr(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Gr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ur=new Gr(1,0,0);function Wr(t){t.stopImmediatePropagation()}function Kr(t){t.preventDefault(),t.stopImmediatePropagation()}function Qr(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Jr(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ti(){return this.__zoom||Ur}function ei(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ni(){return navigator.maxTouchPoints||"ontouchstart"in this}function ri(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}const ii={props:["layout","width","height","postsData"],setup(t){const e=h({nodesData:[],linksData:[],transform:{x:0,y:0,k:1},clickHandler:()=>{}}),n=_((()=>t.width/5)),r=_((()=>`${-n.value}, ${-t.height/2}, ${t.width}, ${t.height}`));let i=null;const o=()=>{i=Mr(t.postsData),i.descendants().forEach(((t,e)=>{t.id=e,t.children&&(t._children=t.children),t.children&&t.depth>=2&&(t.children=null)}))},a=()=>{if(i){const t=Pr().nodeSize([28,n.value])(i);e.nodesData=t.descendants(),e.linksData=t.links()}};let{width:u,height:c,postsData:p}=f(t);b([u,c],((t,e)=>{a()})),b(p,((t,e)=>{o(),a()}));const d=t=>{e.transform=t.transform};let v=null;C((()=>{v=function(){var t,e,n,r=Qr,i=Jr,o=ri,a=ei,l=ni,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=gn,f=J("start","zoom","end"),p=500,d=0,v=10;function m(t){t.property("__zoom",ti).on("wheel.zoom",C).on("mousedown.zoom",k).on("dblclick.zoom",M).filter(l).on("touchstart.zoom",z).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new Gr(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Gr(t.k,r,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=_(t,o).event(r),l=i.apply(t,o),s=null==n?w(l):"function"==typeof n?n.apply(t,o):n,u=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,o):e,p=h(c.invert(s).concat(u/c.k),f.invert(s).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=p(t),n=u/e[2];t=new Gr(n,s[0]-e[0]*n,s[1]-e[1]*n)}a.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function C(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),i=this.__zoom,l=Math.max(s[0],Math.min(s[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=ye(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===l)return;n.mouse=[c,i.invert(c)],On(this),n.start()}Kr(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(y(g(i,l),n.mouse[0],n.mouse[1]),n.extent,u))}function h(){n.wheel=null,n.end()}}function k(t,...e){if(!n&&r.apply(this,arguments)){var i=_(this,e,!0).event(t),a=ge(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",p,!0),l=ye(t,s),s=t.currentTarget,c=t.clientX,h=t.clientY;xe(t.view),Wr(t),i.mouse=[l,this.__zoom.invert(l)],On(this),i.start()}function f(t){if(Kr(t),!i.moved){var e=t.clientX-c,n=t.clientY-h;i.moved=e*e+n*n>d}i.event(t).zoom("mouse",o(y(i.that.__zoom,i.mouse[0]=ye(t,s),i.mouse[1]),i.extent,u))}function p(t){a.on("mousemove.zoom mouseup.zoom",null),_e(t.view,i.moved),Kr(t),i.event(t).end()}}function M(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=ye(t.changedTouches?t.changedTouches[0]:t,this),l=n.invert(a),s=n.k*(t.shiftKey?.5:2),h=o(y(g(n,s),a,l),i.apply(this,e),u);Kr(t),c>0?ge(this).transition().duration(c).call(x,h,a,t):ge(this).call(m.transform,h,a,t)}}function z(n,...i){if(r.apply(this,arguments)){var o,a,l,s,u=n.touches,c=u.length,h=_(this,i,n.changedTouches.length===c).event(n);for(Wr(n),a=0;a<c;++a)s=[s=ye(l=u[a],this),this.__zoom.invert(s),l.identifier],h.touch0?h.touch1||h.touch0[2]===s[2]||(h.touch1=s,h.taps=0):(h.touch0=s,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=s[0],t=setTimeout((function(){t=null}),p)),On(this),h.start())}}function A(t,...e){if(this.__zooming){var n,r,i,a,l=_(this,e).event(t),s=t.changedTouches,c=s.length;for(Kr(t),n=0;n<c;++n)i=ye(r=s[n],this),l.touch0&&l.touch0[2]===r.identifier?l.touch0[0]=i:l.touch1&&l.touch1[2]===r.identifier&&(l.touch1[0]=i);if(r=l.that.__zoom,l.touch1){var h=l.touch0[0],f=l.touch0[1],p=l.touch1[0],d=l.touch1[1],v=(v=p[0]-h[0])*v+(v=p[1]-h[1])*v,m=(m=d[0]-f[0])*m+(m=d[1]-f[1])*m;r=g(r,Math.sqrt(v/m)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!l.touch0)return;i=l.touch0[0],a=l.touch0[1]}l.zoom("touch",o(y(r,i,a),l.extent,u))}}function L(t,...r){if(this.__zooming){var i,o,a=_(this,r).event(t),l=t.changedTouches,s=l.length;for(Wr(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<s;++i)o=l[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=ye(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<v)){var u=ge(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return m.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",ti),t!==i?x(t,e,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n,r){m.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},m.scaleTo=function(t,e,n,r){m.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?w(t):"function"==typeof n?n.apply(this,arguments):n,l=r.invert(a),s="function"==typeof e?e.apply(this,arguments):e;return o(y(g(r,s),a,l),t,u)}),n,r)},m.translateBy=function(t,e,n,r){m.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}),null,r)},m.translateTo=function(t,e,n,r,a){m.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,l=null==r?w(t):"function"==typeof r?r.apply(this,arguments):r;return o(Ur.translate(l[0],l[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r,a)},b.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=ge(this.that).datum();f.call(t,this.that,new Zr(t,{sourceEvent:this.sourceEvent,target:m,type:t,transform:this.that.__zoom,dispatch:f}),e)}},m.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Yr(+t),m):a},m.filter=function(t){return arguments.length?(r="function"==typeof t?t:Yr(!!t),m):r},m.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Yr(!!t),m):l},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:Yr([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],m):[s[0],s[1]]},m.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(h=t,m):h},m.on=function(){var t=f.on.apply(f,arguments);return t===f?m:t},m.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,m):Math.sqrt(d)},m.tapDistance=function(t){return arguments.length?(v=+t,m):v},m}().scaleExtent([.5,5]).on("zoom",d),ge(".tree-diagram").call(v)}));C((()=>{e.clickHandler=t=>{if("post"===t.data.type)window.open(`/repo/${t.data.data.pathRelative}`);else if("folder"===t.data.type){if(!t.parent)return;t.children?(t.children=null,m(t,!1)):(t.children=t._children,m(t,!0)),a()}}}));const m=(t,e)=>{let n,r;e?(n=t.y,r=t.x):(n=t.parent.y,r=t.parent.x),ge(".tree-diagram").transition().duration(500).call(v.transform,Ur.translate(-n,-r).scale(1))};o(),a();const g=f(e);return s(l({},g),{viewBox:r,linkPathGenerator:t=>Ir().x((t=>t.y)).y((t=>t.x))(t),textGenerator:(t,e="truncate")=>{const r=Math.floor(n.value/14);let i="";return i=t.data.children?t.data.name:t.data.data.title,i.length>r&&"truncate"===e?`${i.substr(0,r).trim()}...`:i},resizeTransform:()=>{ge(".tree-diagram").transition().duration(500).call(v.transform,Ur)}})}},oi=x();u("data-v-6415e43d");const ai={class:"links-container",fill:"none",stroke:"#E5E7EB","stroke-opacity":"1","stroke-width":"1.5"},li={class:"nodes-cotainer","pointer-events":"all",style:{font:"14px sans-serif"}},si={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#9CA3AF",viewBox:"0 0 16 16",x:"-0.6em",y:"-0.6em"},ui=v("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z"},null,-1),ci=v("path",{d:"M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"},null,-1),hi={key:2,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#60A5FA",viewBox:"0 0 16 16",x:"-0.6em",y:"-0.6em"},fi=v("path",{d:"M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"},null,-1),pi={class:"p-8 flex justify-between items-center fixed bottom-0 inset-x-0 z-10"},di={class:"flex items-center space-x-2"},vi=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"}),v("path",{d:"M2 4.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1H3v2.5a.5.5 0 0 1-1 0v-3zm12 7a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H13V8.5a.5.5 0 0 1 1 0v3z"})],-1),mi=v("span",{class:"text-xs hidden sm:block"},"Resize",-1);c();const gi=oi(((t,e,n,r,i,o)=>(p(),d(y,null,[k((p(),d("svg",z(t.$attrs,{class:"tree-diagram select-none",viewBox:r.viewBox}),[v("g",{transform:`translate(${t.transform.x}, ${t.transform.y}) scale(${t.transform.k}) `},[v("g",ai,[(p(!0),d(y,null,w(t.linksData,(t=>(p(),d("path",{key:t.target.id,d:r.linkPathGenerator(t)},null,8,["d"])))),128))]),v("g",li,[(p(!0),d(y,null,w(t.nodesData,(e=>(p(),d("g",{key:e.id,cursor:"pointer",onClick:n=>t.clickHandler(e),transform:`translate(${e.y}, ${e.x})`},[v("text",{dy:"0.35em",x:e.parent?"0.8em":"-0.8em","text-anchor":e.parent?"start":"end","font-weight":e.parent?"normal":"bold","stroke-linejoin":"round","stroke-width":"5",stroke:"#fff"},m(r.textGenerator(e)),9,["x","text-anchor","font-weight"]),v("text",{dy:"0.35em",x:e.parent?"0.8em":"-0.8em","text-anchor":e.parent?"start":"end","font-weight":e.parent?"normal":"bold"},m(r.textGenerator(e)),9,["x","text-anchor","font-weight"]),"post"===e.data.type?(p(),d("svg",si,[ui])):g("",!0),"folder"===e.data.type?(p(),d("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:e.children?"#93C5FD":"#60A5FA",viewBox:"0 0 16 16",x:"-0.6em",y:"-0.6em"},[ci],8,["fill"])):g("",!0),"root"===e.data.type?(p(),d("svg",hi,[fi])):g("",!0),v("title",null,m(r.textGenerator(e,"full")),1)],8,["onClick","transform"])))),128))])],8,["transform"])],16,["viewBox"])),[[M,"tree"===n.layout]]),k(v("div",pi,[v("div",di,[v("button",{class:"\n          p-3\n          select-none\n          rounded\n          flex\n          items-center\n          space-x-1\n          bg-gray-200\n          hover:bg-blue-500\n          text-gray-600\n          hover:text-white\n          opacity-60\n          hover:opacity-100\n        ",title:"重置缩放比例",onClick:e[1]||(e[1]=(...t)=>r.resizeTransform&&r.resizeTransform(...t))},[vi,mi])])],512),[[M,"tree"===n.layout]])],64))));ii.render=gi,ii.__scopeId="data-v-6415e43d";const yi={components:{Navbar:N,Footer:S,FolderItem:V,PostsTree:ii,CollectionModal:B},setup(t){const e=h({bodyContainer:A(null),navContainer:A(null),treeWidth:0,treeHeight:0,folder:"",folderList:[],currentFolder:null,posts:[],postsTreeData:null,tags:[],currentTag:"",layout:"grid",sortType:"descend",sortByUpdated:!1,collectionModalOpen:!1,collection:null}),n=L();e.folder=n.value.frontmatter.folder,e.posts=n.value.postsData.posts,e.postsTreeData=function(t,e){let n={name:t,type:"root",parent:null,children:[]};const r=/\.md$/;return e.forEach((t=>{const e=t.filePathRelative.split("/").slice(1);let i=n,o=n.children;for(let n=0;n<e.length;n++){const a=e[n];let l=o.find((t=>t.name===a));if(l)i=l,o=l.children;else if(r.test(a)){const e={name:a,type:"post",parent:i,data:t};o.push(e)}else{const t={name:a,type:"folder",parent:i,children:[]};o.push(t),i=t,o=t.children}}})),n}(e.folder,e.posts),e.currentFolder=e.postsTreeData,e.tags=["all",...n.value.postsData.tags],C((()=>{if(location.hash&&(e.currentTag=location.hash.slice(1)),location.search){const t=location.search.slice(1);if(e.folderList=new URLSearchParams(t).getAll("folder"),e.folderList.length>0){let t=e.postsTreeData;for(let n=0;n<e.folderList.length;n++){const r=e.folderList[n],i=t.children.find((t=>t.name===r));if(!i)break;t=i}e.currentFolder=t}}window.onhashchange=function(t){e.currentTag=location.hash.slice(1)};const t=()=>{e.treeWidth=e.bodyContainer.clientWidth,e.treeHeight=e.bodyContainer.clientHeight-e.navContainer.$el.clientHeight};b((()=>e.layout),((e,n)=>{"tree"===e&&H((()=>{t()}))}));let n=null;window.onresize=()=>{n&&clearTimeout(n),n=setTimeout((()=>{t(),n=null}),300)}}));const r=_((()=>{let t=e.currentFolder.children;return t.sort(((t,n)=>{if("folder"===t.type&&"folder"===n.type)return n.children.length-t.children.length;if("folder"===t.type&&"folder"!==n.type)return-1;if("folder"!==t.type&&"folder"===n.type)return 1;if("post"===t.type&&"post"===n.type){let r=null,i=null;return e.sortByUpdated?(r=t.updatedTime||t.date||t.createdTime,i=n.updatedTime||n.date||n.createdTime):(r=t.date||t.createdTime,i=n.date||n.createdTime),r&&i?"descend"===e.sortType?new Date(i)-new Date(r):new Date(r)-new Date(i):0}})),t})),i=_((()=>{let t=[];t.unshift(e.currentFolder);let n=e.currentFolder;for(;n.parent;)t.unshift(n.parent),n=n.parent;return t})),o=f(e);return s(l({},o),{setCollectionHandler:t=>{let n=[];e.posts.forEach((e=>{e.collection&&e.collection===t&&n.push(e)})),n.sort(((t,e)=>{const n=t.date||t.createdTime,r=e.date||e.createdTime,i=t.collectionOrder,o=e.collectionOrder;return i&&o&&i!==o?i-o:n&&r?new Date(n)-new Date(r):0})),e.collection={title:t,posts:n},e.collectionModalOpen=!0},closeCollectionModalHandler:()=>{e.collectionModalOpen=!1,e.collection=null},setFolderHandler:t=>{if(!t)return;e.currentFolder=t;let n=[];n.unshift(e.currentFolder.name);let r=e.currentFolder;for(;r.parent;)n.unshift(r.parent.name),r=r.parent;let i=`${location.pathname}`;if(n.length>1){const t=`?folder=${n.slice(1).join("&folder=")}`;i=`${location.pathname}${t}`}history.pushState({url:i},"",i)},folderContent:r,breadcrumb:i})}},wi=x();u("data-v-b97baeba");const xi={class:"flex-grow"},_i={class:"py-10 text-5xl font-bold text-center border-0"},bi={key:0,class:"container p-10 mx-auto flex flex-wrap space-x-2"},Ci=v("hr",{class:"container w-4/5 mx-auto"},null,-1),ki={class:"\n          container\n          p-10\n          mx-auto\n          flex flex-col\n          sm:flex-row\n          space-y-2\n          sm:space-y-0\n          sm:justify-between\n        "},Mi={class:"flex items-center sm:space-x-2"},zi=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{"fill-rule":"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"})],-1),Ai=v("span",{class:"text-xs hidden sm:block"},"Back",-1),Li={class:"flex flex-wrap items-center space-x-1"},Ti={key:0},Ei={key:0,class:"hidden sm:block"},Hi=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})],-1),Ni={key:1,class:"hidden sm:block"},Si=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 hidden sm:block",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"})],-1),Bi={class:"text-xs"},Vi={class:"flex items-center justify-between"},Di=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{"fill-rule":"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"})],-1),Pi=v("span",{class:"text-xs hidden sm:block"},"Back",-1),Fi={class:"flex items-center space-x-2"},$i=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M6 1H1v14h5V1zm9 0h-5v5h5V1zm0 9v5h-5v-5h5zM0 1a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm9 0a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V1zm1 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1h-5z"})],-1),Oi=v("span",{class:"text-xs hidden sm:block"},"Grid",-1),ji=v("svg",{class:"w-4 h-4",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[v("g",{"clip-path":"url(#clip0)"},[v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.5 10C3.10218 10 2.72064 9.84196 2.43934 9.56066C2.15804 9.27936 2 8.89782 2 8.5L2 7.5C2 7.10218 2.15804 6.72064 2.43934 6.43934C2.72064 6.15804 3.10218 6 3.5 6L4.5 6C4.89782 6 5.27936 6.15804 5.56066 6.43934C5.84197 6.72064 6 7.10218 6 7.5L7 7.5L7 2C7 1.86739 7.05268 1.74021 7.14645 1.64645C7.24022 1.55268 7.36739 1.5 7.5 1.5L8.5 1.5C8.63261 1.5 8.75979 1.55268 8.85355 1.64645C8.94732 1.74021 9 1.86739 9 2C9 2.13261 8.94732 2.25979 8.85355 2.35355C8.75979 2.44732 8.63261 2.5 8.5 2.5L8 2.5L8 7.5L8.5 7.5C8.63261 7.5 8.75979 7.55268 8.85355 7.64645C8.94732 7.74021 9 7.86739 9 8C9 8.13261 8.94732 8.25979 8.85355 8.35355C8.75979 8.44732 8.63261 8.5 8.5 8.5L8 8.5L8 13.5L8.5 13.5C8.63261 13.5 8.75979 13.5527 8.85355 13.6464C8.94732 13.7402 9 13.8674 9 14C9 14.1326 8.94732 14.2598 8.85355 14.3536C8.75979 14.4473 8.63261 14.5 8.5 14.5L7.5 14.5C7.36739 14.5 7.24021 14.4473 7.14645 14.3536C7.05268 14.2598 7 14.1326 7 14L7 8.5L6 8.5C6 8.89782 5.84197 9.27936 5.56066 9.56066C5.27936 9.84196 4.89782 10 4.5 10L3.5 10ZM5 7.5C5 7.36739 4.94732 7.24021 4.85355 7.14645C4.75979 7.05268 4.63261 7 4.5 7L3.5 7C3.36739 7 3.24021 7.05268 3.14645 7.14645C3.05268 7.24021 3 7.36739 3 7.5L3 8.5C3 8.63261 3.05268 8.75979 3.14645 8.85355C3.24021 8.94732 3.36739 9 3.5 9L4.5 9C4.63261 9 4.75979 8.94732 4.85355 8.85355C4.94732 8.75979 5 8.63261 5 8.5L5 7.5ZM11.5 16C11.1022 16 10.7206 15.842 10.4393 15.5607C10.158 15.2794 10 14.8978 10 14.5L10 13.5C10 13.1022 10.158 12.7206 10.4393 12.4393C10.7206 12.158 11.1022 12 11.5 12L12.5 12C12.8978 12 13.2794 12.158 13.5607 12.4393C13.842 12.7206 14 13.1022 14 13.5L14 14.5C14 14.8978 13.842 15.2794 13.5607 15.5607C13.2794 15.842 12.8978 16 12.5 16L11.5 16ZM11 14.5C11 14.6326 11.0527 14.7598 11.1464 14.8536C11.2402 14.9473 11.3674 15 11.5 15L12.5 15C12.6326 15 12.7598 14.9473 12.8536 14.8536C12.9473 14.7598 13 14.6326 13 14.5L13 13.5C13 13.3674 12.9473 13.2402 12.8536 13.1464C12.7598 13.0527 12.6326 13 12.5 13L11.5 13C11.3674 13 11.2402 13.0527 11.1464 13.1464C11.0527 13.2402 11 13.3674 11 13.5L11 14.5ZM11.5 10C11.1022 10 10.7206 9.84197 10.4393 9.56066C10.158 9.27936 10 8.89782 10 8.5L10 7.5C10 7.10218 10.158 6.72064 10.4393 6.43934C10.7206 6.15804 11.1022 6 11.5 6L12.5 6C12.8978 6 13.2794 6.15804 13.5607 6.43934C13.842 6.72064 14 7.10218 14 7.5L14 8.5C14 8.89782 13.842 9.27936 13.5607 9.56066C13.2794 9.84197 12.8978 10 12.5 10L11.5 10ZM11 8.5C11 8.63261 11.0527 8.75979 11.1464 8.85355C11.2402 8.94732 11.3674 9 11.5 9L12.5 9C12.6326 9 12.7598 8.94732 12.8536 8.85355C12.9473 8.75979 13 8.63261 13 8.5L13 7.5C13 7.36739 12.9473 7.24021 12.8536 7.14645C12.7598 7.05268 12.6326 7 12.5 7L11.5 7C11.3674 7 11.2402 7.05268 11.1464 7.14645C11.0527 7.24021 11 7.36739 11 7.5L11 8.5ZM11.5 4C11.1022 4 10.7206 3.84197 10.4393 3.56066C10.158 3.27936 10 2.89782 10 2.5L10 1.5C10 1.10218 10.158 0.720644 10.4393 0.43934C10.7206 0.158035 11.1022 1.08542e-07 11.5 1.13286e-07L12.5 1.25211e-07C12.8978 1.29955e-07 13.2794 0.158035 13.5607 0.43934C13.842 0.720644 14 1.10218 14 1.5L14 2.5C14 2.89782 13.842 3.27936 13.5607 3.56066C13.2794 3.84197 12.8978 4 12.5 4L11.5 4ZM11 2.5C11 2.63261 11.0527 2.75979 11.1464 2.85355C11.2402 2.94732 11.3674 3 11.5 3L12.5 3C12.6326 3 12.7598 2.94732 12.8536 2.85355C12.9473 2.75979 13 2.63261 13 2.5L13 1.5C13 1.36739 12.9473 1.24021 12.8536 1.14645C12.7598 1.05268 12.6326 1 12.5 1L11.5 1C11.3674 1 11.2402 1.05268 11.1464 1.14645C11.0527 1.24021 11 1.36739 11 1.5L11 2.5Z"})]),v("defs",null,[v("clipPath",{id:"clip0"},[v("rect",{width:"16",height:"16",fill:"white",transform:"translate(0 16) rotate(-90)"})])])],-1),qi=v("span",{class:"text-xs hidden sm:block"},"Tree",-1),Xi={key:1,class:"\n          container\n          p-8\n          mx-auto\n          grid grid-flow-row-dense grid-cols-1\n          sm:grid-cols-2\n          xl:grid-cols-3\n          2xl:grid-cols-4\n          gap-2\n        "},Ri={class:"p-8 flex justify-between items-center fixed top-16 inset-x-0 z-10"},Ii={class:"flex items-center space-x-2"},Yi=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{"fill-rule":"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"})],-1),Zi=v("span",{class:"text-xs hidden sm:block"},"Back",-1),Gi=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})],-1),Ui={class:"text-xs hidden sm:block"},Wi={class:"flex items-center space-x-2"},Ki=v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16"},[v("path",{d:"M6 1H1v14h5V1zm9 0h-5v5h5V1zm0 9v5h-5v-5h5zM0 1a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm9 0a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V1zm1 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1h-5z"})],-1),Qi=v("span",{class:"text-xs hidden sm:block"},"Grid",-1),Ji=v("svg",{class:"w-4 h-4",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[v("g",{"clip-path":"url(#clip0)"},[v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.5 10C3.10218 10 2.72064 9.84196 2.43934 9.56066C2.15804 9.27936 2 8.89782 2 8.5L2 7.5C2 7.10218 2.15804 6.72064 2.43934 6.43934C2.72064 6.15804 3.10218 6 3.5 6L4.5 6C4.89782 6 5.27936 6.15804 5.56066 6.43934C5.84197 6.72064 6 7.10218 6 7.5L7 7.5L7 2C7 1.86739 7.05268 1.74021 7.14645 1.64645C7.24022 1.55268 7.36739 1.5 7.5 1.5L8.5 1.5C8.63261 1.5 8.75979 1.55268 8.85355 1.64645C8.94732 1.74021 9 1.86739 9 2C9 2.13261 8.94732 2.25979 8.85355 2.35355C8.75979 2.44732 8.63261 2.5 8.5 2.5L8 2.5L8 7.5L8.5 7.5C8.63261 7.5 8.75979 7.55268 8.85355 7.64645C8.94732 7.74021 9 7.86739 9 8C9 8.13261 8.94732 8.25979 8.85355 8.35355C8.75979 8.44732 8.63261 8.5 8.5 8.5L8 8.5L8 13.5L8.5 13.5C8.63261 13.5 8.75979 13.5527 8.85355 13.6464C8.94732 13.7402 9 13.8674 9 14C9 14.1326 8.94732 14.2598 8.85355 14.3536C8.75979 14.4473 8.63261 14.5 8.5 14.5L7.5 14.5C7.36739 14.5 7.24021 14.4473 7.14645 14.3536C7.05268 14.2598 7 14.1326 7 14L7 8.5L6 8.5C6 8.89782 5.84197 9.27936 5.56066 9.56066C5.27936 9.84196 4.89782 10 4.5 10L3.5 10ZM5 7.5C5 7.36739 4.94732 7.24021 4.85355 7.14645C4.75979 7.05268 4.63261 7 4.5 7L3.5 7C3.36739 7 3.24021 7.05268 3.14645 7.14645C3.05268 7.24021 3 7.36739 3 7.5L3 8.5C3 8.63261 3.05268 8.75979 3.14645 8.85355C3.24021 8.94732 3.36739 9 3.5 9L4.5 9C4.63261 9 4.75979 8.94732 4.85355 8.85355C4.94732 8.75979 5 8.63261 5 8.5L5 7.5ZM11.5 16C11.1022 16 10.7206 15.842 10.4393 15.5607C10.158 15.2794 10 14.8978 10 14.5L10 13.5C10 13.1022 10.158 12.7206 10.4393 12.4393C10.7206 12.158 11.1022 12 11.5 12L12.5 12C12.8978 12 13.2794 12.158 13.5607 12.4393C13.842 12.7206 14 13.1022 14 13.5L14 14.5C14 14.8978 13.842 15.2794 13.5607 15.5607C13.2794 15.842 12.8978 16 12.5 16L11.5 16ZM11 14.5C11 14.6326 11.0527 14.7598 11.1464 14.8536C11.2402 14.9473 11.3674 15 11.5 15L12.5 15C12.6326 15 12.7598 14.9473 12.8536 14.8536C12.9473 14.7598 13 14.6326 13 14.5L13 13.5C13 13.3674 12.9473 13.2402 12.8536 13.1464C12.7598 13.0527 12.6326 13 12.5 13L11.5 13C11.3674 13 11.2402 13.0527 11.1464 13.1464C11.0527 13.2402 11 13.3674 11 13.5L11 14.5ZM11.5 10C11.1022 10 10.7206 9.84197 10.4393 9.56066C10.158 9.27936 10 8.89782 10 8.5L10 7.5C10 7.10218 10.158 6.72064 10.4393 6.43934C10.7206 6.15804 11.1022 6 11.5 6L12.5 6C12.8978 6 13.2794 6.15804 13.5607 6.43934C13.842 6.72064 14 7.10218 14 7.5L14 8.5C14 8.89782 13.842 9.27936 13.5607 9.56066C13.2794 9.84197 12.8978 10 12.5 10L11.5 10ZM11 8.5C11 8.63261 11.0527 8.75979 11.1464 8.85355C11.2402 8.94732 11.3674 9 11.5 9L12.5 9C12.6326 9 12.7598 8.94732 12.8536 8.85355C12.9473 8.75979 13 8.63261 13 8.5L13 7.5C13 7.36739 12.9473 7.24021 12.8536 7.14645C12.7598 7.05268 12.6326 7 12.5 7L11.5 7C11.3674 7 11.2402 7.05268 11.1464 7.14645C11.0527 7.24021 11 7.36739 11 7.5L11 8.5ZM11.5 4C11.1022 4 10.7206 3.84197 10.4393 3.56066C10.158 3.27936 10 2.89782 10 2.5L10 1.5C10 1.10218 10.158 0.720644 10.4393 0.43934C10.7206 0.158035 11.1022 1.08542e-07 11.5 1.13286e-07L12.5 1.25211e-07C12.8978 1.29955e-07 13.2794 0.158035 13.5607 0.43934C13.842 0.720644 14 1.10218 14 1.5L14 2.5C14 2.89782 13.842 3.27936 13.5607 3.56066C13.2794 3.84197 12.8978 4 12.5 4L11.5 4ZM11 2.5C11 2.63261 11.0527 2.75979 11.1464 2.85355C11.2402 2.94732 11.3674 3 11.5 3L12.5 3C12.6326 3 12.7598 2.94732 12.8536 2.85355C12.9473 2.75979 13 2.63261 13 2.5L13 1.5C13 1.36739 12.9473 1.24021 12.8536 1.14645C12.7598 1.05268 12.6326 1 12.5 1L11.5 1C11.3674 1 11.2402 1.05268 11.1464 1.14645C11.0527 1.24021 11 1.36739 11 1.5L11 2.5Z"})]),v("defs",null,[v("clipPath",{id:"clip0"},[v("rect",{width:"16",height:"16",fill:"white",transform:"translate(0 16) rotate(-90)"})])])],-1),to=v("span",{class:"text-xs hidden sm:block"},"Tree",-1);c();const eo=wi(((t,e,n,r,i,o)=>{const a=T("Navbar"),l=T("folder-item"),s=T("Footer"),u=T("posts-tree"),c=T("collection-modal");return p(),d("div",{ref:"bodyContainer",class:["flex flex-col",{"min-h-screen":"grid"===t.layout,"h-screen":"tree"===t.layout}]},[v(a,{ref:"navContainer",class:"flex-shrink-0 sticky top-0 z-20 bg-white","navbar-type":"folder"},null,512),k(v("main",xi,[v("h2",_i,m(t.folder.toUpperCase()),1),t.tags.length>0?(p(),d("div",bi,[(p(!0),d(y,null,w(t.tags,(e=>(p(),d("a",{class:["tag py-2 text-gray-400 hover:text-gray-600 text-sm font-bold",{"text-blue-400":t.currentTag===e}],key:e,href:`#${e}`},"#"+m(e),11,["href"])))),128))])):g("",!0),Ci,v("div",ki,[v("div",Mi,[v("button",{class:"\n              p-3\n              select-none\n              rounded\n              hidden\n              sm:flex\n              items-center\n              space-x-1\n              bg-gray-100\n              hover:bg-blue-500\n              text-gray-500\n              hover:text-white\n            ",title:"返回",onClick:e[1]||(e[1]=e=>r.setFolderHandler(t.currentFolder.parent))},[zi,Ai]),v("div",Li,[(p(!0),d(y,null,w(r.breadcrumb,(t=>(p(),d(y,{key:t.name},["root"!==t.type?(p(),d("span",Ti,"/")):g("",!0),v("button",{class:"\n                  p-1\n                  select-none\n                  sm:p-3\n                  rounded\n                  flex\n                  items-center\n                  space-x-1\n                  text-gray-500\n                  hover:text-white\n                  hover:bg-blue-500\n                ",onClick:e=>r.setFolderHandler(t)},["root"===t.type?(p(),d("div",Ei,[Hi])):g("",!0),"folder"===t.type?(p(),d("div",Ni,[Si])):g("",!0),v("span",Bi,m(t.name),1)],8,["onClick"])],64)))),128))])]),v("div",Vi,[v("button",{class:"\n              p-3\n              select-none\n              rounded\n              sm:hidden\n              items-center\n              space-x-1\n              bg-gray-100\n              hover:bg-blue-500\n              text-gray-500\n              hover:text-white\n            ",title:"返回",onClick:e[2]||(e[2]=e=>r.setFolderHandler(t.currentFolder.parent))},[Di,Pi]),v("div",Fi,[v("button",{class:["p-3 select-none rounded flex items-center space-x-1",{"bg-blue-500 hover:bg-blue-600 text-white":"grid"===t.layout,"bg-gray-100 hover:bg-blue-500 text-gray-500 hover:text-white":"grid"!==t.layout}],title:"网格布局",onClick:e[3]||(e[3]=e=>t.layout="grid")},[$i,Oi],2),v("button",{class:["hidden p-3 select-none rounded sm:flex items-center space-x-1",{"bg-blue-500 hover:bg-blue-600 text-white":"tree"===t.layout,"bg-gray-100 hover:bg-blue-500 text-gray-500 hover:text-white":"tree"!==t.layout}],title:"树状布局",onClick:e[4]||(e[4]=e=>t.layout="tree")},[ji,qi],2)])])]),r.folderContent&&r.folderContent.length>0?k((p(),d("div",Xi,[(p(!0),d(y,null,w(r.folderContent,(e=>(p(),d(l,{key:e.name,item:e,tag:t.currentTag,class:{"row-span-1":"post"===e.type,"row-span-2":"folder"===e.type&&e.children.length>3},onSetCollection:r.setCollectionHandler,onSetFolder:r.setFolderHandler},null,8,["item","tag","class","onSetCollection","onSetFolder"])))),128))],512)),[[M,"grid"===t.layout]]):g("",!0)],512),[[M,"grid"===t.layout]]),k(v(s,null,null,512),[[M,"grid"===t.layout]]),v(u,{layout:t.layout,width:t.treeWidth,height:t.treeHeight,"posts-data":t.currentFolder},null,8,["layout","width","height","posts-data"]),k(v("div",Ri,[v("div",Ii,[v("button",{class:"\n            p-3\n            select-none\n            rounded\n            flex\n            items-center\n            space-x-1\n            bg-gray-200\n            hover:bg-blue-500\n            text-gray-600\n            hover:text-white\n            opacity-60\n            hover:opacity-100\n          ",title:"返回",onClick:e[5]||(e[5]=e=>r.setFolderHandler(t.currentFolder.parent))},[Yi,Zi]),v("button",{class:"\n            p-3\n            select-none\n            rounded\n            flex\n            items-center\n            space-x-0\n            sm:space-x-1\n            text-gray-600\n            hover:text-white\n            bg-gray-200\n            hover:bg-blue-500\n            opacity-60\n            hover:opacity-100\n          ",onClick:e[6]||(e[6]=e=>r.setFolderHandler(t.postsTreeData))},[Gi,v("span",Ui,m(t.folder),1)])]),v("div",Wi,[v("button",{class:["\n            p-3\n            select-none\n            rounded\n            flex\n            items-center\n            space-x-0\n            sm:space-x-1\n            opacity-60\n            hover:opacity-100\n            hover:bg-blue-500\n            hover:text-white\n          ",{"bg-blue-500 text-white":"grid"===t.layout,"bg-gray-200 text-gray-600 ":"grid"!==t.layout}],title:"网格布局",onClick:e[7]||(e[7]=e=>t.layout="grid")},[Ki,Qi],2),v("button",{class:["\n            hidden\n            p-3\n            select-none\n            rounded\n            sm:flex\n            items-center\n            space-x-0\n            sm:space-x-1\n            opacity-60\n            hover:opacity-100\n            hover:bg-blue-500\n            hover:text-white\n          ",{"bg-blue-500 text-white":"tree"===t.layout,"bg-gray-200 text-gray-600":"tree"!==t.layout}],title:"树状布局",onClick:e[8]||(e[8]=e=>t.layout="tree")},[Ji,to],2)])],512),[[M,"tree"===t.layout]]),(p(),d(E,{to:"body"},[t.collectionModalOpen&&t.collection?(p(),d(c,{key:0,collection:t.collection,onCloseCollectionModal:r.closeCollectionModalHandler},null,8,["collection","onCloseCollectionModal"])):g("",!0)]))],2)}));yi.render=eo,yi.__scopeId="data-v-b97baeba";export{yi as default};
